!function(){"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,i||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==e(i)?i:i+""}function r(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function o(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,{a:i}),i},t.d=function(e,i){for(var r in i)t.o(i,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:i[r]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var a=window.ctEvents,c=t.n(a),s=window.ctFrontend,l=function(t){if(t.dataset.product_id)return parseInt(t.dataset.product_id);var e=t.closest(".product");if(!e)return null;var i=Array.from(e.classList).find((function(t){return 0===t.indexOf("post-")})).split("-")[1];return parseInt(i)},u=function(t,e,i){if(!t)return o(ct_localizations.blc_ext_wish_list.list.items);var r={};t.querySelectorAll("select[data-attribute_name]").forEach((function(t){var e=t.dataset.attribute_name.replace("attribute_","");r[e]=t.value}));var n={id:e};return"add"===i?(Object.keys(r).length&&(n.attributes=r),[].concat(o(ct_localizations.blc_ext_wish_list.list.items),[n])):"remove"===i?ct_localizations.blc_ext_wish_list.list.items.filter((function(t){return t.id!==n.id||Object.keys((null==t?void 0:t.attributes)||{}).some((function(e){var i;return(null==n||null===(i=n.attributes)||void 0===i?void 0:i[e])&&t.attributes[e]&&t.attributes[e]!==(null==n?void 0:n.attributes[e])}))})):void 0},d=function(t,e){var i={id:parseFloat(t)};return"add"===e?[].concat(o(ct_localizations.blc_ext_wish_list.list.items),[i]):"remove"===e?ct_localizations.blc_ext_wish_list.list.items.filter((function(t){return t.id!==i.id})):void 0};function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function v(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m=!1,p=function(){var t=Object.values(ct_localizations.blc_ext_wish_list.list.items);Array.from(document.querySelectorAll('.ct-header-wishlist, [data-id="wishlist"], [data-shortcut="wishlist"]')).map((function(e){var i=e.querySelector(".ct-dynamic-count-wishlist");i&&t.length!==+i.dataset.count&&(e.classList.remove("ct-added"),e.classList.add("ct-adding"),e.removeAttribute("style"),o(document.querySelectorAll(".ct-dynamic-count-wishlist")).map((function(e){e.innerHTML!==t.length&&(e.innerHTML=t.length,e.dataset.count=t.length)})),setTimeout((function(){e.classList.remove("ct-adding"),e.classList.add("ct-added")})))}))},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.operation,i=t.productId,n=t.variable,o=void 0!==n&&n,a=t.el,s=t.cb,f=void 0===s?function(){}:s,_=Object.values(ct_localizations.blc_ext_wish_list.list.items);if(e){var m=i||l(a);a&&(a.classList.contains("ct-wishlist-button-single")&&(_=function(t,e,i){var r=t.closest(".entry-summary"),n=[];if(r.querySelector('[name="variation_id"]')&&r.querySelector('[name="variation_id"]').value&&parseFloat(r.querySelector('[name="variation_id"]').value)&&i){var o=parseFloat(r.querySelector('[name="variation_id"]').value);n=u(r,o,e)}else n=d(l(t),e);return n}(a,e,o)),a.classList.contains("ct-wishlist-button-archive")&&!a.closest(".ct-compare-column")&&(_=function(t,e,i){var r=t.closest(".product"),n=[];if(r.querySelector(".add_to_cart_button")&&r.querySelector(".add_to_cart_button").getAttribute("href").includes("variation_id")&&i){var o=new URLSearchParams(r.querySelector(".add_to_cart_button").getAttribute("href")),a=parseFloat(o.get("variation_id"));n=u(r,a,e)}else n=d(l(t),e);return n}(a,e,o)),a.closest(".ct-compare-column")&&(_=d(m,e)),"remove"===e&&(a.closest(".wishlist-product-remove")||a.closest(".product-mobile-actions"))&&(_=function(t){var e,i,n=t.closest("tr"),o=n.querySelectorAll("[data-attribute-slug]"),a={id:l(t)},c="yes"===(null===(e=n.querySelector(".variation"))||void 0===e||null===(i=e.dataset)||void 0===i?void 0:i.default);return Array.from(o).length&&!c&&Array.from(o).forEach((function(t){a.attributes=b(b({},a.attributes),{},r({},t.dataset.attributeSlug,t.dataset.attributeVal))})),ct_localizations.blc_ext_wish_list.list.items.filter((function(t){return t.id!==a.id||Object.keys((null==t?void 0:t.attributes)||{}).some((function(e){var i;return(null==a||null===(i=a.attributes)||void 0===i?void 0:i[e])&&t.attributes[e]&&t.attributes[e]!==(null==a?void 0:a.attributes[e])}))}))}(a))),"yes"===window.ct_localizations.blc_ext_wish_list.user_logged_in?fetch("".concat(ct_localizations.ajax_url,"?action=blc_ext_wish_list_sync_likes"),{method:"POST",body:JSON.stringify(v(v({},ct_localizations.blc_ext_wish_list.list),{},{items:_})),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){var i=t.success;t.data;i&&f(e)})):(!function(t,e){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:365;if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),i="; expires="+n.toGMTString()}else i="";document.cookie=t+"="+e+i+"; path=/"}("blc_products_wish_list",JSON.stringify(v(v({},ct_localizations.blc_ext_wish_list.list),{},{items:_}))),setTimeout((function(){f(e)}))),window.ct_localizations.blc_ext_wish_list.list.items=_,c().trigger("blocksy:woocommerce:wish-list-change",{operation:e,productId:m})}p()},h=function(t){var e=['[class*="ct-wishlist-button"]',".ct-wishlist-remove",".wishlist-product-remove > .remove",'.product-mobile-actions > [href*="wishlist-remove"]'].join(", "),i=t.items.map((function(t){return t.id}));o(document.querySelectorAll(e)).map((function(t){t.dataset.buttonState="",i.indexOf(l(t))>-1&&(t.dataset.buttonState="active")}))};c().on("blocksy:wishlist:sync",(function(){return h(window.ct_localizations.blc_ext_wish_list.list)}));(0,s.registerDynamicChunk)("blocksy_ext_woo_extra_wish_list",{mount:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})||{},i=e.event,r=e.completeAction,n=e.initialState;i?(i.preventDefault(),i.stopPropagation(),y({productId:l(t),el:t,operation:"active"===n||t.classList.contains("remove")?"remove":"add",variable:void 0!==t.dataset.variable,cb:function(e){c().trigger("blocksy:wishlist:sync"),r("add"===e?{finalState:"active"}:{finalState:""}),t.closest(".ct-woocommerce-wishlist-table")&&(1===t.closest("tbody").children.length?location.reload():t.closest("tr").remove())}})):m||(m=!0,fetch("".concat(ct_localizations.ajax_url,"?action=blc_ext_wish_list_get_all_likes"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t.success;var e=t.data;window.ct_localizations.blc_ext_wish_list={list:e.likes,user_logged_in:e.user_logged_in},p(),h(e.likes)})))}})}();